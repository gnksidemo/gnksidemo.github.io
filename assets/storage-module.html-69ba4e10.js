import{_ as s,W as n,X as a,a1 as e}from"./framework-a045178c.js";const t={},o=e(`<h1 id="storage-module" tabindex="-1"><a class="header-anchor" href="#storage-module" aria-hidden="true">#</a> Storage Module</h1><h2 id="concepts" tabindex="-1"><a class="header-anchor" href="#concepts" aria-hidden="true">#</a> Concepts</h2><h3 id="bucket" tabindex="-1"><a class="header-anchor" href="#bucket" aria-hidden="true">#</a> Bucket</h3><p>Bucket is the unit to group storage &quot;objects&quot;. BucketName has to be globally unique. Every user account can create a bucket. The account will become the &quot;owner&quot; of the bucket.</p><p>Each bucket should be associated with its own Primary SP, and the payment accounts for Read and Store. The owner&#39;s address will be the default payment account.</p><h3 id="object" tabindex="-1"><a class="header-anchor" href="#object" aria-hidden="true">#</a> Object</h3><p>Object is the basic unit to store data on Greenfield. The metadata for the object will be stored on the Greenfield blockchain:</p><ul><li>name and ID</li><li>owner</li><li>bucket that hosts it</li><li>size and timestamps</li><li>content type</li><li>checkSums for the storage pieces</li><li>storage status</li><li>associated SP information</li></ul><p>Object metadata is stored with the bucket name as the prefix of the key. It is possible to iterate through all objects under the same bucket, but it may be a heavy-lifting job for a large bucket with lots of objects.</p><h3 id="group" tabindex="-1"><a class="header-anchor" href="#group" aria-hidden="true">#</a> Group</h3><p>A Group is a collection of accounts with the same permissions. The group name is not allowed to be duplicated under the same user. However, a group can not create or own any resource. A group can not be a member of another group either.</p><p>A resource can only have a limited number of groups associated with it for permissions. This ensures that the on-chain permission check can be finished within a constant time.</p><h2 id="state" tabindex="-1"><a class="header-anchor" href="#state" aria-hidden="true">#</a> State</h2><p>The storage module keeps state of the following primary objects:</p><ul><li>BucketInfo</li><li>ObjectInfo</li><li>GroupInfo</li></ul><p>These primary objects should be primarily stored and accessed by the <code>ID</code> which is a auto-incremented sequence. An additional indices are maintained per primary objects in order to compatibility with the S3 object storage.</p><ul><li><p>BucketInfo: <code>0x11 | hash(bucketName) -&gt; BigEndian(bucketId)</code></p></li><li><p>ObjectInfo: <code>0x12 | hash(bucketName)_hash(objectName) -&gt; BigEndian(objectId)</code></p></li><li><p>GroupInfo: <code>0x13 | OwnerAddr_hash(groupName) -&gt; BigEndian(groupId)</code></p></li><li><p>BucketInfoById: <code>0x21 | BigEndian(bucketId) -&gt; ProtoBuf(BucketInfo)</code></p></li><li><p>ObjectInfoById: <code>0x22 | BigEndian(objectId) -&gt; ProtoBuf(ObjectInfo)</code></p></li><li><p>GroupInfoById: <code>0x23 | BigEndian(groupId) -&gt; ProtoBuf(GroupInfo)</code></p></li></ul><h3 id="params" tabindex="-1"><a class="header-anchor" href="#params" aria-hidden="true">#</a> Params</h3><p>The storage module contains the following parameters, they can be updated with governance.</p><table><thead><tr><th>name</th><th>default value</th><th>meaning</th></tr></thead><tbody><tr><td>MaxSegmentSize</td><td>16M</td><td>The maximum size of the segment. The payload data of an object will split into several segment. Only the size of the last segment can be less than MaxSegmentSize, others is equals.</td></tr><tr><td>RedundantDataChunkNum</td><td>4</td><td>The number of the data chunks in Erasure-Code algorithm.</td></tr><tr><td>RedundantParityChunkNum</td><td>2</td><td>The number of the parity chunks in Erasure-Code algorithm.</td></tr><tr><td>MaxPayloadSize</td><td>2G</td><td>The maximum size of the payload data that allowed in greenfield storage network.</td></tr></tbody></table><h2 id="messages" tabindex="-1"><a class="header-anchor" href="#messages" aria-hidden="true">#</a> Messages</h2><h3 id="msgcreatebucket" tabindex="-1"><a class="header-anchor" href="#msgcreatebucket" aria-hidden="true">#</a> MsgCreateBucket</h3><p>Used to create a bucket, a bucket is used to contain storage objects.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgCreateBucket</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;creator&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// creator is the account address of bucket creator, it is also the bucket owner.</span>
  <span class="token builtin">string</span> creator <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// bucket_name is a globally unique name of bucket</span>
  <span class="token builtin">string</span> bucket_name <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token comment">// is_public means the bucket is private or public. if private, only bucket owner or grantee can read it,</span>
  <span class="token comment">// otherwise every greenfield user can read it.</span>
  <span class="token builtin">bool</span> is_public <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token comment">// payment_address is an account address specified by bucket owner to pay the read fee. Default: creator</span>
  <span class="token builtin">string</span> payment_address <span class="token operator">=</span> <span class="token number">4</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// primary_sp_address is the address of primary sp.</span>
  <span class="token builtin">string</span> primary_sp_address <span class="token operator">=</span> <span class="token number">6</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// primary_sp_approval is the approval info of the primary SP which indicates that primary sp confirm the user&#39;s request.</span>
  <span class="token positional-class-name class-name">Approval</span> primary_sp_approval <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
  <span class="token comment">// read_quota</span>
  <span class="token positional-class-name class-name">ReadQuota</span> read_quota <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msgdeletebucket" tabindex="-1"><a class="header-anchor" href="#msgdeletebucket" aria-hidden="true">#</a> MsgDeleteBucket</h3><p>Used to delete bucket. It is important to note that you cannot delete a non-empty bucket.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgDeleteBucket</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;operator&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// creator is the account address of the grantee who has the DeleteBucket permission of the bucket to be deleted.</span>
  <span class="token builtin">string</span> operator <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// bucket_name is the name of the bucket to be deleted.</span>
  <span class="token builtin">string</span> bucket_name <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msgupdatebucketinfo" tabindex="-1"><a class="header-anchor" href="#msgupdatebucketinfo" aria-hidden="true">#</a> MsgUpdateBucketInfo</h3><p>Used to update bucket info.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgUpdateBucketInfo</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;operator&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// operator is the account address of the operator</span>
  <span class="token builtin">string</span> operator <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// bucket_name is the name of bucket which you&#39;ll update</span>
  <span class="token builtin">string</span> bucket_name <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

  <span class="token comment">// read_quota is the traffic quota that you read from primary sp</span>
  <span class="token positional-class-name class-name">ReadQuota</span> read_quota <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

  <span class="token comment">// payment_address is the account address of the payment account</span>
  <span class="token builtin">string</span> payment_address <span class="token operator">=</span> <span class="token number">4</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msgcreateobject" tabindex="-1"><a class="header-anchor" href="#msgcreateobject" aria-hidden="true">#</a> MsgCreateObject</h3><p>Used to create an initial object under a bucket.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgCreateObject</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;creator&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// creator is the account address of object uploader</span>
  <span class="token builtin">string</span> creator <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// bucket_name is the name of the bucket where the object is stored.</span>
  <span class="token builtin">string</span> bucket_name <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token comment">// object_name is the name of object</span>
  <span class="token builtin">string</span> object_name <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token comment">// payload_size is size of the object&#39;s payload</span>
  <span class="token builtin">uint64</span> payload_size <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token comment">// is_public means the bucket is private or public. if private, only bucket owner or grantee can access it,</span>
  <span class="token comment">// otherwise every greenfield user can access it.</span>
  <span class="token builtin">bool</span> is_public <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token comment">// content_type is a standard MIME type describing the format of the object.</span>
  <span class="token builtin">string</span> content_type <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
  <span class="token comment">// primary_sp_approval is the approval info of the primary SP which indicates that primary sp confirm the user&#39;s request.</span>
  <span class="token positional-class-name class-name">Approval</span> primary_sp_approval <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
  <span class="token comment">// expect_checksums is a list of hashes which was generate by redundancy algorithm.</span>
  <span class="token keyword">repeated</span> <span class="token builtin">bytes</span> expect_checksums <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
  <span class="token comment">// redundancy_type can be ec or replica</span>
  <span class="token positional-class-name class-name">RedundancyType</span> redundancy_type <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
  <span class="token comment">// expect_secondarySPs is a list of StorageProvider address, which is optional</span>
  <span class="token keyword">repeated</span> <span class="token builtin">string</span> expect_secondary_sp_addresses <span class="token operator">=</span> <span class="token number">10</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msgdeleteobject" tabindex="-1"><a class="header-anchor" href="#msgdeleteobject" aria-hidden="true">#</a> MsgDeleteObject</h3><p>Used to delete object that is no longer useful, the deleted storage object is not recoverable.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgDeleteObject</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;operator&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// operator is the account address of the operator who has the DeleteObject permission of the object to be deleted.</span>
  <span class="token builtin">string</span> operator <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// bucket_name is the name of the bucket where the object which to be deleted is stored.</span>
  <span class="token builtin">string</span> bucket_name <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token comment">// object_name is the name of the object which to be deleted.</span>
  <span class="token builtin">string</span> object_name <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msgsealobject" tabindex="-1"><a class="header-anchor" href="#msgsealobject" aria-hidden="true">#</a> MsgSealObject</h3><p>Storage provider seal an object once the underlying files are well saved by both primary and second SPs.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgSealObject</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;operator&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// operator is the account address of primary SP</span>
  <span class="token builtin">string</span> operator <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// bucket_name is the name of the bucket where the object is stored.</span>
  <span class="token builtin">string</span> bucket_name <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token comment">// object_name is the name of object to be sealed.</span>
  <span class="token builtin">string</span> object_name <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token comment">// secondary_sp_addresses is a list of storage provider which store the redundant data.</span>
  <span class="token keyword">repeated</span> <span class="token builtin">string</span> secondary_sp_addresses <span class="token operator">=</span> <span class="token number">4</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// secondary_sp_signatures is the signature of the secondary sp that can</span>
  <span class="token comment">// acknowledge that the payload data has received and stored.</span>
  <span class="token keyword">repeated</span> <span class="token builtin">bytes</span> secondary_sp_signatures <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msgcopyobject" tabindex="-1"><a class="header-anchor" href="#msgcopyobject" aria-hidden="true">#</a> MsgCopyObject</h3><p>Used to copy an exact same object to another user.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgCopyObject</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;operator&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// operator is the account address of the operator who has the CopyObject permission of the object to be deleted.</span>
  <span class="token builtin">string</span> operator <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token comment">// src_bucket_name is the name of the bucket where the object to be copied is located</span>
  <span class="token builtin">string</span> src_bucket_name <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token comment">// dst_bucket_name is the name of the bucket where the object is copied to.</span>
  <span class="token builtin">string</span> dst_bucket_name <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token comment">// src_object_name is the name of the object which to be copied</span>
  <span class="token builtin">string</span> src_object_name <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token comment">// dst_object_name is the name of the object which is copied to</span>
  <span class="token builtin">string</span> dst_object_name <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token comment">// primary_sp_approval is the approval info of the primary SP which indicates that primary sp confirm the user&#39;s request.</span>
  <span class="token positional-class-name class-name">Approval</span> dst_primary_sp_approval <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msgrejectsealobject" tabindex="-1"><a class="header-anchor" href="#msgrejectsealobject" aria-hidden="true">#</a> MsgRejectSealObject</h3><p>A storage provider may reject to seal an object if it refuses to, or it can not because of unexpect error.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgRejectSealObject</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;operator&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// operator is the account address of the object owner</span>
  <span class="token builtin">string</span> operator <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// bucket_name is the name of the bucket where the object is stored.</span>
  <span class="token builtin">string</span> bucket_name <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token comment">// object_name is the name of unsealed object to be reject.</span>
  <span class="token builtin">string</span> object_name <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msgcancelcreateobject" tabindex="-1"><a class="header-anchor" href="#msgcancelcreateobject" aria-hidden="true">#</a> MsgCancelCreateObject</h3><p>User are able to cancel an initial object before it is sealed.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgCancelCreateObject</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;operator&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// operator is the account address of the operator</span>
  <span class="token builtin">string</span> operator <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// bucket_name is the name of the bucket</span>
  <span class="token builtin">string</span> bucket_name <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token comment">// object_name is the name of the object</span>
  <span class="token builtin">string</span> object_name <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msgcreategroup" tabindex="-1"><a class="header-anchor" href="#msgcreategroup" aria-hidden="true">#</a> MsgCreateGroup</h3><p>Used to create group.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgCreateGroup</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;creator&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// owner is the account address of group owner who create the group</span>
  <span class="token builtin">string</span> creator <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// group_name is the name of the group. it&#39;s not globally unique.</span>
  <span class="token builtin">string</span> group_name <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token comment">// member_request is a list of member which to be add or remove</span>
  <span class="token keyword">repeated</span> <span class="token builtin">string</span> members <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msgdeletegroup" tabindex="-1"><a class="header-anchor" href="#msgdeletegroup" aria-hidden="true">#</a> MsgDeleteGroup</h3><p>Used to delete group that is no longer used. Please note that the underlying members are not deleted yet.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgDeleteGroup</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;operator&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// operator is the account address of the operator who has the DeleteGroup permission of the group to be deleted.</span>
  <span class="token builtin">string</span> operator <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// group_name is the name of the group which to be deleted</span>
  <span class="token builtin">string</span> group_name <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="msgleavegroup" tabindex="-1"><a class="header-anchor" href="#msgleavegroup" aria-hidden="true">#</a> MsgLeaveGroup</h3><p>A group member can choose to leave a group.</p><div class="language-protobuf line-numbers-mode" data-ext="protobuf"><pre class="language-protobuf"><code><span class="token keyword">message</span> <span class="token class-name">MsgLeaveGroup</span> <span class="token punctuation">{</span>
  <span class="token keyword">option</span> <span class="token punctuation">(</span>cosmos<span class="token punctuation">.</span>msg<span class="token punctuation">.</span>v1<span class="token punctuation">.</span>signer<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;member&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// member is the account address of the member who want to leave the group</span>
  <span class="token builtin">string</span> member <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// group_owner is the owner of the group you want to leave</span>
  <span class="token builtin">string</span> group_owner <span class="token operator">=</span> <span class="token number">2</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>cosmos_proto<span class="token punctuation">.</span>scalar<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;cosmos.AddressString&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// group_name is the name of the group you want to leave</span>
  <span class="token builtin">string</span> group_name <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,57),p=[o];function c(i,l){return n(),a("div",null,p)}const u=s(t,[["render",c],["__file","storage-module.html.vue"]]);export{u as default};
